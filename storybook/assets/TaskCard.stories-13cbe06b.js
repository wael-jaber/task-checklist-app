import{j as s}from"./jsx-runtime-6d9837fe.js";import{r as C}from"./index-93f6b7ae.js";import{g as gt,h as xt,s as E,_ as r,u as ft,q as kt,b as Ct,c as Et,d as yt,i as It}from"./DefaultPropsProvider-6d541532.js";import{r as vt}from"./createSvgIcon-c92fb94b.js";import{d as Tt,C as wt}from"./ChecklistItem-048a1ec7.js";import{I as jt}from"./IconButton-5a2125ae.js";import{B as _,T as S}from"./Box-25983615.js";import{C as St,a as $t,b as zt}from"./CardHeader-c8d63eee.js";import{D as _t}from"./Divider-347a66af.js";import{T as Dt,u as bt,a as J}from"./dividerClasses-232aba77.js";import{a as Rt,u as Bt}from"./ButtonBase-64324024.js";import{v as h}from"./v4-4a60fe23.js";import"./ownerWindow-598c61de.js";import"./useFormControl-104fac70.js";import"./Paper-eebdd5ee.js";import"./index-e5d314f4.js";function Mt(t){return gt("MuiCollapse",t)}xt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Pt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Wt=t=>{const{orientation:n,classes:o}=t,l={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return yt(l,Mt,o)},qt=E("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,n[o.orientation],o.state==="entered"&&n.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&n.hidden]}})(({theme:t,ownerState:n})=>r({height:0,overflow:"hidden",transition:t.transitions.create("height")},n.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},n.state==="entered"&&r({height:"auto",overflow:"visible"},n.orientation==="horizontal"&&{width:"auto"}),n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&{visibility:"hidden"})),Lt=E("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,n)=>n.wrapper})(({ownerState:t})=>r({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ht=E("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,n)=>n.wrapperInner})(({ownerState:t})=>r({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),tt=C.forwardRef(function(n,o){const l=ft({props:n,name:"MuiCollapse"}),{addEndListener:y,children:D,className:b,collapsedSize:u="0px",component:a,easing:I,in:q,onEnter:L,onEntered:H,onEntering:N,onExit:A,onExited:st,onExiting:F,orientation:U="vertical",style:R,timeout:c=kt.standard,TransitionComponent:ot=Dt}=l,it=Ct(l,Pt),v=r({},l,{orientation:U,collapsedSize:u}),g=Wt(v),O=bt(),at=Rt(),p=C.useRef(null),B=C.useRef(),T=typeof u=="number"?`${u}px`:u,x=U==="horizontal",f=x?"width":"height",w=C.useRef(null),rt=Bt(o,w),m=e=>i=>{if(e){const d=w.current;i===void 0?e(d):e(d,i)}},M=()=>p.current?p.current[x?"clientWidth":"clientHeight"]:0,lt=m((e,i)=>{p.current&&x&&(p.current.style.position="absolute"),e.style[f]=T,L&&L(e,i)}),dt=m((e,i)=>{const d=M();p.current&&x&&(p.current.style.position="");const{duration:k,easing:j}=J({style:R,timeout:c,easing:I},{mode:"enter"});if(c==="auto"){const G=O.transitions.getAutoHeightDuration(d);e.style.transitionDuration=`${G}ms`,B.current=G}else e.style.transitionDuration=typeof k=="string"?k:`${k}ms`;e.style[f]=`${d}px`,e.style.transitionTimingFunction=j,N&&N(e,i)}),ct=m((e,i)=>{e.style[f]="auto",H&&H(e,i)}),pt=m(e=>{e.style[f]=`${M()}px`,A&&A(e)}),ut=m(st),mt=m(e=>{const i=M(),{duration:d,easing:k}=J({style:R,timeout:c,easing:I},{mode:"exit"});if(c==="auto"){const j=O.transitions.getAutoHeightDuration(i);e.style.transitionDuration=`${j}ms`,B.current=j}else e.style.transitionDuration=typeof d=="string"?d:`${d}ms`;e.style[f]=T,e.style.transitionTimingFunction=k,F&&F(e)}),ht=e=>{c==="auto"&&at.start(B.current||0,e),y&&y(w.current,e)};return s.jsx(ot,r({in:q,onEnter:lt,onEntered:ct,onEntering:dt,onExit:pt,onExited:ut,onExiting:mt,addEndListener:ht,nodeRef:w,timeout:c==="auto"?null:c},it,{children:(e,i)=>s.jsx(qt,r({as:a,className:Et(g.root,b,{entered:g.entered,exited:!q&&T==="0px"&&g.hidden}[e]),style:r({[x?"minWidth":"minHeight"]:T},R),ref:rt},i,{ownerState:r({},v,{state:e}),children:s.jsx(Lt,{ownerState:r({},v,{state:e}),className:g.wrapper,ref:p,children:s.jsx(Ht,{ownerState:r({},v,{state:e}),className:g.wrapperInner,children:D})})}))}))});tt.muiSupportAuto=!0;const Nt=tt;var W={},At=It;Object.defineProperty(W,"__esModule",{value:!0});var et=W.default=void 0,Ft=At(vt()),Ut=s;et=W.default=(0,Ft.default)((0,Ut.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Ot=E(jt)(({theme:t,expanded:n})=>({transform:n?"rotate(180deg)":"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})})),Gt=E(_)(({theme:t})=>({display:"flex",alignItems:"center",color:t.palette.error.main,marginLeft:t.spacing(1)})),nt=({task:t,onChecklistItemStatusChange:n,onClick:o})=>{const[l,y]=C.useState(!1),D=a=>{a.stopPropagation(),y(!l)},b=(a,I)=>{n(t.id,a,I)},u=t.checklist.filter(a=>a.status==="done"||a.status==="final_installation_done").length;return s.jsxs(St,{sx:{mb:2,cursor:o?"pointer":"default","&:hover":{boxShadow:o?3:1}},onClick:o,children:[s.jsx($t,{title:s.jsxs(_,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(S,{variant:"h6",component:"div",children:t.title}),t.isBlocked&&s.jsxs(Gt,{children:[s.jsx(Tt,{fontSize:"small"}),s.jsx(S,{variant:"caption",ml:.5,children:"Ticket progress is blocked"})]})]}),action:s.jsx(Ot,{expanded:l,onClick:D,"aria-expanded":l,"aria-label":"show more",children:s.jsx(et,{})})}),s.jsx(_t,{}),s.jsxs(zt,{children:[s.jsxs(_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[s.jsx(S,{variant:"subtitle1",fontWeight:"medium",children:"Checklist"}),s.jsxs(S,{variant:"body2",color:"text.secondary",children:[u," / ",t.checklist.length," completed"]})]}),s.jsx(Nt,{in:l,timeout:"auto",unmountOnExit:!0,children:s.jsx(_,{sx:{mt:2},children:t.checklist.map(a=>s.jsx(wt,{item:a,onStatusChange:b},a.id))})})]})]})};nt.__docgenInfo={description:"",methods:[],displayName:"TaskCard",props:{task:{required:!0,tsType:{name:"Task"},description:""},onChecklistItemStatusChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string, itemId: string, status: string) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"string"},name:"itemId"},{type:{name:"string"},name:"status"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ce={title:"Tasks/TaskCard",component:nt,tags:["autodocs"],parameters:{layout:"padded"}},P={id:h(),userId:"user123",title:"Light Bulb 150S",isBlocked:!1,checklist:[{id:h(),text:"Check item 1",status:"not_started"},{id:h(),text:"Electrical connection, general, 3-pin",status:"done",statusText:"Done: Part installation done"},{id:h(),text:"Check item 3",status:"final_installation_done"}],createdAt:Date.now(),updatedAt:Date.now()},Jt={...P,id:h(),title:"Blocked Task Example",isBlocked:!0,checklist:[...P.checklist,{id:h(),text:"Electrical connection, general, 3-pin. Electrical",status:"blocked",statusText:"Blocked: Part installation done"}]},$={args:{task:P,onChecklistItemStatusChange:(t,n,o)=>{console.log(`Task ${t}, Item ${n} status changed to ${o}`)}}},z={args:{task:Jt,onChecklistItemStatusChange:(t,n,o)=>{console.log(`Task ${t}, Item ${n} status changed to ${o}`)}}};var K,Q,V;$.parameters={...$.parameters,docs:{...(K=$.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    task: sampleTask,
    onChecklistItemStatusChange: (taskId, itemId, status) => {
      console.log(\`Task \${taskId}, Item \${itemId} status changed to \${status}\`);
    }
  }
}`,...(V=(Q=$.parameters)==null?void 0:Q.docs)==null?void 0:V.source}}};var X,Y,Z;z.parameters={...z.parameters,docs:{...(X=z.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    task: blockedTask,
    onChecklistItemStatusChange: (taskId, itemId, status) => {
      console.log(\`Task \${taskId}, Item \${itemId} status changed to \${status}\`);
    }
  }
}`,...(Z=(Y=z.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};const pe=["Default","Blocked"];export{z as Blocked,$ as Default,pe as __namedExportsOrder,ce as default};
