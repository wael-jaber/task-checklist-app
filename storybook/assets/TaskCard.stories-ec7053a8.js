import{j as s}from"./jsx-runtime-6d9837fe.js";import{r as C}from"./index-93f6b7ae.js";import{g as gt,a as xt,s as E,_ as r,u as ft,f as kt,c as Ct,d as Et,e as yt,i as It}from"./DefaultPropsProvider-9b95c2c6.js";import{u as vt,a as Tt,r as wt}from"./createSvgIcon-20e0ddca.js";import{d as jt,C as St}from"./ChecklistItem-da3c7fa9.js";import{T as $t,u as zt,g as J,I as _t,D as Dt}from"./Divider-ccb91951.js";import{B as _,T as S}from"./Box-ea9ec25c.js";import{C as Rt,a as bt,b as Bt}from"./CardHeader-6a3a13f0.js";import{v as h}from"./v4-4a60fe23.js";import"./index-e5d314f4.js";import"./Paper-463eca62.js";function Mt(t){return gt("MuiCollapse",t)}xt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Pt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Wt=t=>{const{orientation:n,classes:i}=t,l={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return yt(l,Mt,i)},Lt=E("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:i}=t;return[n.root,n[i.orientation],i.state==="entered"&&n.entered,i.state==="exited"&&!i.in&&i.collapsedSize==="0px"&&n.hidden]}})(({theme:t,ownerState:n})=>r({height:0,overflow:"hidden",transition:t.transitions.create("height")},n.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},n.state==="entered"&&r({height:"auto",overflow:"visible"},n.orientation==="horizontal"&&{width:"auto"}),n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&{visibility:"hidden"})),qt=E("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,n)=>n.wrapper})(({ownerState:t})=>r({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ht=E("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,n)=>n.wrapperInner})(({ownerState:t})=>r({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),tt=C.forwardRef(function(n,i){const l=ft({props:n,name:"MuiCollapse"}),{addEndListener:y,children:D,className:R,collapsedSize:p="0px",component:a,easing:I,in:L,onEnter:q,onEntered:H,onEntering:N,onExit:A,onExited:st,onExiting:F,orientation:U="vertical",style:b,timeout:c=kt.standard,TransitionComponent:it=$t}=l,ot=Ct(l,Pt),v=r({},l,{orientation:U,collapsedSize:p}),g=Wt(v),O=zt(),at=vt(),u=C.useRef(null),B=C.useRef(),T=typeof p=="number"?`${p}px`:p,x=U==="horizontal",f=x?"width":"height",w=C.useRef(null),rt=Tt(i,w),m=e=>o=>{if(e){const d=w.current;o===void 0?e(d):e(d,o)}},M=()=>u.current?u.current[x?"clientWidth":"clientHeight"]:0,lt=m((e,o)=>{u.current&&x&&(u.current.style.position="absolute"),e.style[f]=T,q&&q(e,o)}),dt=m((e,o)=>{const d=M();u.current&&x&&(u.current.style.position="");const{duration:k,easing:j}=J({style:b,timeout:c,easing:I},{mode:"enter"});if(c==="auto"){const G=O.transitions.getAutoHeightDuration(d);e.style.transitionDuration=`${G}ms`,B.current=G}else e.style.transitionDuration=typeof k=="string"?k:`${k}ms`;e.style[f]=`${d}px`,e.style.transitionTimingFunction=j,N&&N(e,o)}),ct=m((e,o)=>{e.style[f]="auto",H&&H(e,o)}),ut=m(e=>{e.style[f]=`${M()}px`,A&&A(e)}),pt=m(st),mt=m(e=>{const o=M(),{duration:d,easing:k}=J({style:b,timeout:c,easing:I},{mode:"exit"});if(c==="auto"){const j=O.transitions.getAutoHeightDuration(o);e.style.transitionDuration=`${j}ms`,B.current=j}else e.style.transitionDuration=typeof d=="string"?d:`${d}ms`;e.style[f]=T,e.style.transitionTimingFunction=k,F&&F(e)}),ht=e=>{c==="auto"&&at.start(B.current||0,e),y&&y(w.current,e)};return s.jsx(it,r({in:L,onEnter:lt,onEntered:ct,onEntering:dt,onExit:ut,onExited:pt,onExiting:mt,addEndListener:ht,nodeRef:w,timeout:c==="auto"?null:c},ot,{children:(e,o)=>s.jsx(Lt,r({as:a,className:Et(g.root,R,{entered:g.entered,exited:!L&&T==="0px"&&g.hidden}[e]),style:r({[x?"minWidth":"minHeight"]:T},b),ref:rt},o,{ownerState:r({},v,{state:e}),children:s.jsx(qt,{ownerState:r({},v,{state:e}),className:g.wrapper,ref:u,children:s.jsx(Ht,{ownerState:r({},v,{state:e}),className:g.wrapperInner,children:D})})}))}))});tt.muiSupportAuto=!0;const Nt=tt;var W={},At=It;Object.defineProperty(W,"__esModule",{value:!0});var et=W.default=void 0,Ft=At(wt()),Ut=s;et=W.default=(0,Ft.default)((0,Ut.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Ot=E(_t)(({theme:t,expanded:n})=>({transform:n?"rotate(180deg)":"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})})),Gt=E(_)(({theme:t})=>({display:"flex",alignItems:"center",color:t.palette.error.main,marginLeft:t.spacing(1)})),nt=({task:t,onChecklistItemStatusChange:n,onClick:i})=>{const[l,y]=C.useState(!1),D=a=>{a.stopPropagation(),y(!l)},R=(a,I)=>{n(t.id,a,I)},p=t.checklist.filter(a=>a.status==="done"||a.status==="final_installation_done").length;return s.jsxs(Rt,{sx:{mb:2,cursor:i?"pointer":"default","&:hover":{boxShadow:i?3:1}},onClick:i,children:[s.jsx(bt,{title:s.jsxs(_,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(S,{variant:"h6",component:"div",children:t.title}),t.isBlocked&&s.jsxs(Gt,{children:[s.jsx(jt,{fontSize:"small"}),s.jsx(S,{variant:"caption",ml:.5,children:"Ticket progress is blocked"})]})]}),action:s.jsx(Ot,{expanded:l,onClick:D,"aria-expanded":l,"aria-label":"show more",children:s.jsx(et,{})})}),s.jsx(Dt,{}),s.jsxs(Bt,{children:[s.jsxs(_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[s.jsx(S,{variant:"subtitle1",fontWeight:"medium",children:"Checklist"}),s.jsxs(S,{variant:"body2",color:"text.secondary",children:[p," / ",t.checklist.length," completed"]})]}),s.jsx(Nt,{in:l,timeout:"auto",unmountOnExit:!0,children:s.jsx(_,{sx:{mt:2},children:t.checklist.map(a=>s.jsx(St,{item:a,onStatusChange:R},a.id))})})]})]})};nt.__docgenInfo={description:"",methods:[],displayName:"TaskCard",props:{task:{required:!0,tsType:{name:"Task"},description:""},onChecklistItemStatusChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string, itemId: string, status: string) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"string"},name:"itemId"},{type:{name:"string"},name:"status"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const oe={title:"Tasks/TaskCard",component:nt,parameters:{layout:"padded"}},P={id:h(),userId:"user123",title:"Light Bulb 150S",isBlocked:!1,checklist:[{id:h(),text:"Check item 1",status:"not_started"},{id:h(),text:"Electrical connection, general, 3-pin",status:"done",statusText:"Done: Part installation done"},{id:h(),text:"Check item 3",status:"final_installation_done"}],createdAt:Date.now(),updatedAt:Date.now()},Jt={...P,id:h(),title:"Blocked Task Example",isBlocked:!0,checklist:[...P.checklist,{id:h(),text:"Electrical connection, general, 3-pin. Electrical",status:"blocked",statusText:"Blocked: Part installation done"}]},$={args:{task:P,onChecklistItemStatusChange:(t,n,i)=>{console.log(`Task ${t}, Item ${n} status changed to ${i}`)}}},z={args:{task:Jt,onChecklistItemStatusChange:(t,n,i)=>{console.log(`Task ${t}, Item ${n} status changed to ${i}`)}}};var K,Q,V;$.parameters={...$.parameters,docs:{...(K=$.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    task: sampleTask,
    onChecklistItemStatusChange: (taskId, itemId, status) => {
      console.log(\`Task \${taskId}, Item \${itemId} status changed to \${status}\`);
    }
  }
}`,...(V=(Q=$.parameters)==null?void 0:Q.docs)==null?void 0:V.source}}};var X,Y,Z;z.parameters={...z.parameters,docs:{...(X=z.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    task: blockedTask,
    onChecklistItemStatusChange: (taskId, itemId, status) => {
      console.log(\`Task \${taskId}, Item \${itemId} status changed to \${status}\`);
    }
  }
}`,...(Z=(Y=z.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};const ae=["Default","Blocked"];export{z as Blocked,$ as Default,ae as __namedExportsOrder,oe as default};
