import{j as n}from"./jsx-runtime-6d9837fe.js";import{r as v}from"./index-93f6b7ae.js";import{a as W,g as L,s as p,_ as r,u as q,k as wt,e as F,l as Tt,m as Et,f as O,h as G,i as It,j as jt}from"./createSvgIcon-0629cebc.js";import{T as y,B as A,d as $t,C as bt}from"./ChecklistItem-d49b720a.js";import{T as Rt,u as St,g as tt,P as Mt,I as _t,D as Ht}from"./Divider-0101131e.js";import{v as I}from"./v4-4a60fe23.js";import"./index-e5d314f4.js";function zt(e){return W("MuiCollapse",e)}L("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Nt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Dt=e=>{const{orientation:t,classes:o}=e,a={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return G(a,zt,o)},Pt=p("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.state==="entered"&&t.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>r({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&r({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Bt=p("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>r({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ut=p("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>r({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),lt=v.forwardRef(function(t,o){const a=q({props:t,name:"MuiCollapse"}),{addEndListener:u,children:d,className:m,collapsedSize:l="0px",component:i,easing:T,in:S,onEnter:M,onEntered:_,onEntering:H,onExit:g,onExited:f,onExiting:x,orientation:C="vertical",style:J,timeout:k=wt.standard,TransitionComponent:ut=Rt}=a,pt=F(a,Nt),z=r({},a,{orientation:C,collapsedSize:l}),j=Dt(z),Y=St(),mt=Tt(),w=v.useRef(null),K=v.useRef(),N=typeof l=="number"?`${l}px`:l,$=C==="horizontal",b=$?"width":"height",D=v.useRef(null),ht=Et(o,D),E=s=>c=>{if(s){const h=D.current;c===void 0?s(h):s(h,c)}},Q=()=>w.current?w.current[$?"clientWidth":"clientHeight"]:0,gt=E((s,c)=>{w.current&&$&&(w.current.style.position="absolute"),s.style[b]=N,M&&M(s,c)}),ft=E((s,c)=>{const h=Q();w.current&&$&&(w.current.style.position="");const{duration:R,easing:P}=tt({style:J,timeout:k,easing:T},{mode:"enter"});if(k==="auto"){const Z=Y.transitions.getAutoHeightDuration(h);s.style.transitionDuration=`${Z}ms`,K.current=Z}else s.style.transitionDuration=typeof R=="string"?R:`${R}ms`;s.style[b]=`${h}px`,s.style.transitionTimingFunction=P,H&&H(s,c)}),xt=E((s,c)=>{s.style[b]="auto",_&&_(s,c)}),Ct=E(s=>{s.style[b]=`${Q()}px`,g&&g(s)}),vt=E(f),yt=E(s=>{const c=Q(),{duration:h,easing:R}=tt({style:J,timeout:k,easing:T},{mode:"exit"});if(k==="auto"){const P=Y.transitions.getAutoHeightDuration(c);s.style.transitionDuration=`${P}ms`,K.current=P}else s.style.transitionDuration=typeof h=="string"?h:`${h}ms`;s.style[b]=N,s.style.transitionTimingFunction=R,x&&x(s)}),kt=s=>{k==="auto"&&mt.start(K.current||0,s),u&&u(D.current,s)};return n.jsx(ut,r({in:S,onEnter:gt,onEntered:xt,onEntering:ft,onExit:Ct,onExited:vt,onExiting:yt,addEndListener:kt,nodeRef:D,timeout:k==="auto"?null:k},pt,{children:(s,c)=>n.jsx(Pt,r({as:i,className:O(j.root,m,{entered:j.entered,exited:!S&&N==="0px"&&j.hidden}[s]),style:r({[$?"minWidth":"minHeight"]:N},J),ref:ht},c,{ownerState:r({},z,{state:s}),children:n.jsx(Bt,{ownerState:r({},z,{state:s}),className:j.wrapper,ref:w,children:n.jsx(Ut,{ownerState:r({},z,{state:s}),className:j.wrapperInner,children:d})})}))}))});lt.muiSupportAuto=!0;const At=lt;function Wt(e){return W("MuiCard",e)}L("MuiCard",["root"]);const Lt=["className","raised"],qt=e=>{const{classes:t}=e;return G({root:["root"]},Wt,t)},Ft=p(Mt,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ot=v.forwardRef(function(t,o){const a=q({props:t,name:"MuiCard"}),{className:u,raised:d=!1}=a,m=F(a,Lt),l=r({},a,{raised:d}),i=qt(l);return n.jsx(Ft,r({className:O(i.root,u),elevation:d?8:void 0,ref:o,ownerState:l},m))}),Gt=Ot;function Jt(e){return W("MuiCardContent",e)}L("MuiCardContent",["root"]);const Kt=["className","component"],Qt=e=>{const{classes:t}=e;return G({root:["root"]},Jt,t)},Vt=p("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Xt=v.forwardRef(function(t,o){const a=q({props:t,name:"MuiCardContent"}),{className:u,component:d="div"}=a,m=F(a,Kt),l=r({},a,{component:d}),i=Qt(l);return n.jsx(Vt,r({as:d,className:O(i.root,u),ownerState:l,ref:o},m))}),Yt=Xt;function Zt(e){return W("MuiCardHeader",e)}const te=L("MuiCardHeader",["root","avatar","action","content","title","subheader"]),et=te,ee=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],se=e=>{const{classes:t}=e;return G({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Zt,t)},ne=p("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>r({[`& .${et.title}`]:t.title,[`& .${et.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),oe=p("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),ae=p("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),re=p("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),ie=v.forwardRef(function(t,o){const a=q({props:t,name:"MuiCardHeader"}),{action:u,avatar:d,className:m,component:l="div",disableTypography:i=!1,subheader:T,subheaderTypographyProps:S,title:M,titleTypographyProps:_}=a,H=F(a,ee),g=r({},a,{component:l,disableTypography:i}),f=se(g);let x=M;x!=null&&x.type!==y&&!i&&(x=n.jsx(y,r({variant:d?"body2":"h5",className:f.title,component:"span",display:"block"},_,{children:x})));let C=T;return C!=null&&C.type!==y&&!i&&(C=n.jsx(y,r({variant:d?"body2":"body1",className:f.subheader,color:"text.secondary",component:"span",display:"block"},S,{children:C}))),n.jsxs(ne,r({className:O(f.root,m),as:l,ref:o,ownerState:g},H,{children:[d&&n.jsx(oe,{className:f.avatar,ownerState:g,children:d}),n.jsxs(re,{className:f.content,ownerState:g,children:[x,C]}),u&&n.jsx(ae,{className:f.action,ownerState:g,children:u})]}))}),le=ie;var X={},de=jt;Object.defineProperty(X,"__esModule",{value:!0});var dt=X.default=void 0,ce=de(It()),ue=n;dt=X.default=(0,ce.default)((0,ue.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const pe=p(_t)(({theme:e,expanded:t})=>({transform:t?"rotate(180deg)":"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})})),me=p(A)(({theme:e})=>({display:"flex",alignItems:"center",color:e.palette.error.main,marginLeft:e.spacing(1)})),ct=({task:e,onChecklistItemStatusChange:t,onClick:o})=>{const[a,u]=v.useState(!1),d=i=>{i.stopPropagation(),u(!a)},m=(i,T)=>{t(e.id,i,T)},l=e.checklist.filter(i=>i.status==="done"||i.status==="final_installation_done").length;return n.jsxs(Gt,{sx:{mb:2,cursor:o?"pointer":"default","&:hover":{boxShadow:o?3:1}},onClick:o,children:[n.jsx(le,{title:n.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(y,{variant:"h6",component:"div",children:e.title}),e.isBlocked&&n.jsxs(me,{children:[n.jsx($t,{fontSize:"small"}),n.jsx(y,{variant:"caption",ml:.5,children:"Ticket progress is blocked"})]})]}),action:n.jsx(pe,{expanded:a,onClick:d,"aria-expanded":a,"aria-label":"show more",children:n.jsx(dt,{})})}),n.jsx(Ht,{}),n.jsxs(Yt,{children:[n.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[n.jsx(y,{variant:"subtitle1",fontWeight:"medium",children:"Checklist"}),n.jsxs(y,{variant:"body2",color:"text.secondary",children:[l," / ",e.checklist.length," completed"]})]}),n.jsx(At,{in:a,timeout:"auto",unmountOnExit:!0,children:n.jsx(A,{sx:{mt:2},children:e.checklist.map(i=>n.jsx(bt,{item:i,onStatusChange:m},i.id))})})]})]})};ct.__docgenInfo={description:"",methods:[],displayName:"TaskCard",props:{task:{required:!0,tsType:{name:"Task"},description:""},onChecklistItemStatusChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string, itemId: string, status: string) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"string"},name:"itemId"},{type:{name:"string"},name:"status"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const we={title:"Tasks/TaskCard",component:ct,parameters:{layout:"padded"}},V={id:I(),userId:"user123",title:"Light Bulb 150S",isBlocked:!1,checklist:[{id:I(),text:"Check item 1",status:"not_started"},{id:I(),text:"Electrical connection, general, 3-pin",status:"done",statusText:"Done: Part installation done"},{id:I(),text:"Check item 3",status:"final_installation_done"}],createdAt:Date.now(),updatedAt:Date.now()},he={...V,id:I(),title:"Blocked Task Example",isBlocked:!0,checklist:[...V.checklist,{id:I(),text:"Electrical connection, general, 3-pin. Electrical",status:"blocked",statusText:"Blocked: Part installation done"}]},B={args:{task:V,onChecklistItemStatusChange:(e,t,o)=>{console.log(`Task ${e}, Item ${t} status changed to ${o}`)}}},U={args:{task:he,onChecklistItemStatusChange:(e,t,o)=>{console.log(`Task ${e}, Item ${t} status changed to ${o}`)}}};var st,nt,ot;B.parameters={...B.parameters,docs:{...(st=B.parameters)==null?void 0:st.docs,source:{originalSource:`{
  args: {
    task: sampleTask,
    onChecklistItemStatusChange: (taskId, itemId, status) => {
      console.log(\`Task \${taskId}, Item \${itemId} status changed to \${status}\`);
    }
  }
}`,...(ot=(nt=B.parameters)==null?void 0:nt.docs)==null?void 0:ot.source}}};var at,rt,it;U.parameters={...U.parameters,docs:{...(at=U.parameters)==null?void 0:at.docs,source:{originalSource:`{
  args: {
    task: blockedTask,
    onChecklistItemStatusChange: (taskId, itemId, status) => {
      console.log(\`Task \${taskId}, Item \${itemId} status changed to \${status}\`);
    }
  }
}`,...(it=(rt=U.parameters)==null?void 0:rt.docs)==null?void 0:it.source}}};const Te=["Default","Blocked"];export{U as Blocked,B as Default,Te as __namedExportsOrder,we as default};
