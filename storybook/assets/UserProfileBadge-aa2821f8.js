import{j as n}from"./jsx-runtime-6d9837fe.js";import{r as p}from"./index-93f6b7ae.js";import{B as M}from"./Box-eaeca253.js";import{T as S}from"./Typography-7ec13922.js";import{I as R}from"./IconButton-5241931a.js";import{g as z,j as D,s as v,_ as c,u as U,a as B,c as F,b as N}from"./DefaultPropsProvider-4fe26c0b.js";import{c as T}from"./ButtonBase-54c4ca59.js";import{u as L}from"./useSlot-625e2a1e.js";import{M as _}from"./Menu-2edf3461.js";import{M as E}from"./MenuItem-431051d4.js";const q=T(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function O(r){return z("MuiAvatar",r)}D("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const H=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],W=r=>{const{classes:o,variant:e,colorDefault:t}=r;return N({root:["root",e,t&&"colorDefault"],img:["img"],fallback:["fallback"]},O,o)},$=v("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:e}=r;return[o.root,o[e.variant],e.colorDefault&&o.colorDefault]}})(({theme:r})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:c({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:c({backgroundColor:r.palette.grey[400]},r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})))}]})),G=v("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(r,o)=>o.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),J=v(q,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(r,o)=>o.fallback})({width:"75%",height:"75%"});function K({crossOrigin:r,referrerPolicy:o,src:e,srcSet:t}){const[l,s]=p.useState(!1);return p.useEffect(()=>{if(!e&&!t)return;s(!1);let i=!0;const a=new Image;return a.onload=()=>{i&&s("loaded")},a.onerror=()=>{i&&s("error")},a.crossOrigin=r,a.referrerPolicy=o,a.src=e,t&&(a.srcset=t),()=>{i=!1}},[r,o,e,t]),l}const Q=p.forwardRef(function(o,e){const t=U({props:o,name:"MuiAvatar"}),{alt:l,children:s,className:i,component:a="div",slots:b={},slotProps:A={},imgProps:h,sizes:j,src:m,srcSet:g,variant:k="circular"}=t,P=B(t,H);let u=null;const C=K(c({},h,{src:m,srcSet:g})),x=m||g,y=x&&C!=="error",d=c({},t,{colorDefault:!y,component:a,variant:k}),f=W(d),[I,w]=L("img",{className:f.img,elementType:G,externalForwardedProps:{slots:b,slotProps:{img:c({},h,A.img)}},additionalProps:{alt:l,src:m,srcSet:g,sizes:j},ownerState:d});return y?u=n.jsx(I,c({},w)):s||s===0?u=s:x&&l?u=l[0]:u=n.jsx(J,{ownerState:d,className:f.fallback}),n.jsx($,c({as:a,ownerState:d,className:F(f.root,i),ref:e},P,{children:u}))}),V=Q,X=({userName:r,onLogout:o})=>{const[e,t]=p.useState(null),l=a=>{t(a.currentTarget)},s=()=>{t(null)},i=()=>{o(),s()};return n.jsxs(M,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(S,{variant:"body1",sx:{mr:2},children:r}),n.jsx(R,{size:"large","aria-label":"account menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:l,color:"inherit",children:n.jsx(V,{sx:{width:32,height:32,bgcolor:"secondary.main"},children:r.charAt(0).toUpperCase()})}),n.jsx(_,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!e,onClose:s,children:n.jsx(E,{onClick:i,children:"Logout"})})]})};X.__docgenInfo={description:"",methods:[],displayName:"UserProfileBadge",props:{userName:{required:!0,tsType:{name:"string"},description:""},onLogout:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{X as U};
